10 COLOR 15,1,1
20 SCREEN 2,2
30 GOSUB 10030
40 X=120 : Y=170 : V=5
50 MS1 = 0 : MX1 = X+4 : MY1 = Y+8 : MV = 8 
60 MS2 = 0 : MX2 = X+4 : MY2 = Y+8
70 MS3 = 0 : MX3 = X+4 : MY3 = Y+8
75 DIM ENEMIES(3,4)
76 ENEMIES(1,1) = 20 : ENEMIES(1,2) = 10 : ENEMIES(1,3) = RND(1)*10 : ENEMIES(1,4) = RND(1)*16
77 ENEMIES(2,1) = 120 : ENEMIES(2,2) = 10 : ENEMIES(2,3) = RND(1)*10 : ENEMIES(2,4) = RND(1)*16
78 ENEMIES(3,1) = 230 : ENEMIES(3,2) = 10 : ENEMIES(3,3) = RND(1)*10 : ENEMIES(3,4) = RND(1)*16

80 rem IF (STRIG(0) = -1) THEN GOSUB 500 
81 GOSUB 500 
90 IF (STICK(P1)=1 AND Y > 10) THEN Y=Y-V
100 IF (STICK(P1)=2 AND Y > 10 AND X < 230) THEN Y=Y-V : X=X+V
110 IF (STICK(P1)=3 AND X < 230) THEN X=X+V
120 IF (STICK(P1)=4 AND X < 230 AND Y < 170) THEN X=X+V : Y=Y+V
130 IF (STICK(P1)=5 AND Y < 170) THEN Y=Y+V
140 IF (STICK(P1)=6 AND Y < 170 AND X > 10) THEN Y=Y+V : X=X-V
150 IF (STICK(P1)=7 AND X > 10) THEN X=X-V
160 IF (STICK(P1)=8 AND X > 10 AND Y > 10) THEN Y=Y-V : X=X-V

190 IF (MS1 > 0) THEN MS1 = MS1 + 1 : MY1 = MY1 - MV : PUT SPRITE 2,(MX1,MY1),2 
200 IF (MS1 > 0 AND MY1 < 10) THEN MS1 = 0
210 IF (MS1 = 0) THEN MX1 = X+4 : MY1 = Y+8 : PUT SPRITE 2,(MX1,MY1),0

220 IF (MS2 > 0) THEN MS2 = MS2 + 1 :  MY2 = MY2 - MV : PUT SPRITE 3,(MX2,MY2),2 
230 IF (MS2 > 0 AND MY2 < 10) THEN MS2 = 0
240 IF (MS2 = 0) THEN MX2 = X+4 : MY2 = Y+8 : PUT SPRITE 3,(MX2,MY2),0

250 IF (MS3 > 0) THEN MS3 = MS3 + 1 :  MY3 = MY3 - MV : PUT SPRITE 4,(MX3,MY3),2 
260 IF (MS3 > 0 AND MY3 < 10) THEN MS3 = 0
270 IF (MS3 = 0) THEN MX3 = X+4 : MY3 = Y+8 : PUT SPRITE 4,(MX3,MY3),0


271 ENEMIES(1,2) = ENEMIES(1,2) + ENEMIES(1,3)
272 IF (ENEMIES(1,2) > 170) THEN ENEMIES(1,1) = RND(1)*220 : ENEMIES(1,2) = 0 : ENEMIES(1,3) = RND(1)*10 : ENEMIES(1,4) = RND(1)*16
273 IF (ENEMIES(1,1) > X) THEN ENEMIES(1,1) = ENEMIES(1,1) - ENEMIES(1,3)/2
274 IF (ENEMIES(1,1) < X) THEN ENEMIES(1,1) = ENEMIES(1,1) + ENEMIES(1,3)/2

275 ENEMIES(2,2) = ENEMIES(2,2) + ENEMIES(2,3)
276 IF (ENEMIES(2,2) > 170) THEN ENEMIES(2,1) = RND(1)*220 : ENEMIES(2,2) = 0 : ENEMIES(2,3) = RND(1)*10 : ENEMIES(2,4) = RND(1)*16
277 IF (ENEMIES(2,1) > X) THEN ENEMIES(2,1) = ENEMIES(2,1) - ENEMIES(2,3)/2
278 IF (ENEMIES(2,1) < X) THEN ENEMIES(2,1) = ENEMIES(2,1) + ENEMIES(2,3)/2

279 ENEMIES(3,2) = ENEMIES(3,2) + ENEMIES(3,3)
280 IF (ENEMIES(3,2) > 170) THEN ENEMIES(3,1) = RND(1)*220 : ENEMIES(3,2) = 0 : ENEMIES(3,3) = RND(1)*10 : ENEMIES(3,4) = RND(1)*16
281 IF (ENEMIES(3,1) > X) THEN ENEMIES(3,1) = ENEMIES(3,1) - ENEMIES(3,3)/2
282 IF (ENEMIES(3,1) < X) THEN ENEMIES(3,1) = ENEMIES(3,1) + ENEMIES(3,3)/2

285 PUT SPRITE 5,(ENEMIES(1,1),ENEMIES(1,2)),ENEMIES(1,4)
290 PUT SPRITE 6,(ENEMIES(2,1),ENEMIES(2,2)),ENEMIES(2,4)
300 PUT SPRITE 7,(ENEMIES(3,1),ENEMIES(3,2)),ENEMIES(3,4)

310 PUT SPRITE 0,(X,Y),4
320 PUT SPRITE 1,(X,Y),8

330 GOTO 80


500 IF (MS1 = 0 AND MS2 = 0 AND MS3 = 0) THEN MS1 = 1 
510 IF (MS1 > 5000 AND MS2 = 0 AND MS3 = 0) THEN MS2 = 1
520 IF (MS1 = 0 AND MS2 > 5000 AND MS3 = 0) THEN MS3 = 1 
525 PRINT MS1
530 RETURN



10000 REM --------------------------
10010 REM ----------NAVE1-----------
10020 REM --------------------------
10030 FOR I=1 TO 16
10040 READ A$
10050 B$=B$+CHR$(VAL("&B"+LEFT$(A$,8)))
10060 C$=C$+CHR$(VAL("&B"+RIGHT$(A$,8)))
10070 NEXT I
10080 SPRITE$(0)=B$+C$
10090 DATA 0000000000000000
10100 DATA 0000000000000000
10110 DATA 0000000110000000
10120 DATA 0000001111000000
10130 DATA 0100011111100010
10140 DATA 1100000110000011
10150 DATA 1000000110000001
10160 DATA 1000000110000001
10170 DATA 1000001111000001
10180 DATA 1000011111100001
10190 DATA 1000110000110001
10200 DATA 1101101001011011
10210 DATA 1111000110001111
10220 DATA 0111000000001110
10230 DATA 0011000000001100
10240 DATA 0001000000001000
11000 REM --------------------------
11010 REM --------NAVEFONDO---------
11020 REM --------------------------
11030 FOR I=1 TO 16
11040 READ A$
11050 D$=D$+CHR$(VAL("&B"+LEFT$(A$,8)))
11060 E$=E$+CHR$(VAL("&B"+RIGHT$(A$,8)))
11070 NEXT I
11080 SPRITE$(1)=D$+E$
11090 DATA 0000000000000000
11100 DATA 0100000000000010
11110 DATA 1100000000000011
11120 DATA 1100000000000011
11130 DATA 1000000000000001
11140 DATA 0000001001000000
11150 DATA 0100000000000010
11160 DATA 0100000000000010
11170 DATA 0100000000000010
11180 DATA 0100000000000010
11190 DATA 0100001111000010
11200 DATA 0000010110100000
11210 DATA 0000111001110000
11220 DATA 0000011111100000
11230 DATA 0000001111000000
11240 DATA 0000000110000000
11250 REM --------------------------
11260 REM ----------MISIL-----------
11270 REM --------------------------
11280 FOR I=1 TO 8
11290 READ A$
11300 F$=F$+CHR$(VAL("&B"+A$))
11310 NEXT I
11320 SPRITE$(2)=F$
11321 SPRITE$(3)=F$
11322 SPRITE$(4)=F$
11330 DATA 00011000
11340 DATA 00011000
11350 DATA 00011000
11360 DATA 00011000
11370 DATA 00011000
11380 DATA 00011000
11390 DATA 00011000
11400 DATA 00011000
11410 REM --------------------------
11420 REM ----------ENEMIGO---------
11430 REM --------------------------
11440 FOR I=1 TO 8
11450 READ A$
11460 G$=G$+CHR$(VAL("&B"+A$))
11470 NEXT I
11480 SPRITE$(5)=G$
11481 SPRITE$(6)=G$
11482 SPRITE$(7)=G$
11490 DATA 00111100
11500 DATA 01011010
11510 DATA 10111101
11520 DATA 01011010
11530 DATA 10011001
11540 DATA 10111101
11550 DATA 01011010
11560 DATA 00111100
11570 RETURN
